const contactFormEl=document.querySelector("#contact-form"),contactFirstNameEl=document.querySelector("#contact-firstName"),contactEmailEl=document.querySelector("#contact-email"),contactMessageEl=document.querySelector("#contact-message"),contactCaptcha=document.querySelector("#contact-captcha"),sendContactBtn=document.querySelector("#send-contact-button");let validatedContactFirstName=validatedContactEmail=validatedContactMessage=validatedContactCaptcha=!1;contactFirstNameEl.addEventListener("change",a=>{validatedContactFirstName=!!validateInput(a.currentTarget,`${"ua"===pageLang?"Ім'я":"Name"}`,3,30)}),contactEmailEl.addEventListener("change",a=>{validateInput(a.currentTarget,"Email",3,30)?validatedContactFirstName=!0:validatedContactEmail=!1,validateEmail(contactEmailEl)}),contactMessageEl.addEventListener("change",a=>{validateInput(a.currentTarget,`${"ua"===pageLang?"Повідомлення":"Message"}`,10,1e3)?validatedContactMessage=!0:validatedContactMessage=!1}),contactCaptcha.addEventListener("cheked",a=>{validateContactCaptcha()});const sendContactMessageAPI=async(a,t,e)=>{const c={firstName:a,email:t,message:e},n={method:"POST",headers:{"Access-Control-Allow-Methods":"HEAD, GET, POST, PUT, DELETE","Access-Control-Allow-Origin":"*"},body:JSON.stringify(c)};try{return await fetch("/mail.php",n)}catch(a){console.warn(a)}},sendContactMessage=()=>(validateInput(contactFirstNameEl,`${"ua"===pageLang?"Ім'я":"Name"}`,3,30),validateInput(contactEmailEl,"Email",3,30),validateInput(contactMessageEl,`${"ua"===pageLang?"Повідомлення":"Message"}`,10,1e3),validateContactCaptcha(),validatedContactFirstName&&validatedContactFirstName&&validatedContactMessage&&sendContactMessageAPI(contactFirstNameEl.value,contactEmailEl.value,contactMessageEl.value),!0),resetValidationVariables=()=>validatedContactFirstName=validatedContactEmail=validatedContactMessage=validatedContactCaptcha=!1,validateContactCaptcha=async()=>{""!==await grecaptcha.getResponse(1)?(contactCaptcha.nextSibling.nextSibling.innerHTML="",validatedContactCaptcha=!0):(contactCaptcha.nextSibling.nextSibling.innerHTML=`${"ua"===pageLang?"Підтвердіть будь ласка, що ви не робот.":"Please confirm that you are not a robot"}`,validatedContactCaptcha=!1)};window.validateContactCaptcha=validateContactCaptcha;const clearValidatedContactCaptcha=()=>{validatedContactCaptcha=!1};window.clearValidatedContactCaptcha=clearValidatedContactCaptcha,contactCaptcha.setAttribute("data-callback","validateContactCaptcha"),contactCaptcha.setAttribute("data-expired-callback","clearValidatedContactCaptcha"),sendContactBtn.addEventListener("click",a=>{a.preventDefault(),sendContactMessage(),validatedContactFirstName&&validatedContactFirstName&&validatedContactMessage&&validatedContactCaptcha&&(acceptSuccessfulModal(contactPage),contactFormEl.reset(),grecaptcha.reset(1),resetValidationVariables())});